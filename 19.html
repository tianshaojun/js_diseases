<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>一定要知道的变量和函数提升</title>
</head>

<body>
  <script>
    //js声明提升或者声明提前
    //html css dom树

    //js解释引擎：词法分析 -> 语法分析 -> 语法树
    //词法分析是将字符流(char stream)转换为记号流(token stream)
    //语法分析成 AST
    //js解析：预编译期(预处理、预解析、预编译)  与  执行期
    //预编译预解析，当JavaScript引擎解析脚本时，它会在预编译期对所有声明的变量和函数进行处理！并且是先预声明变量，再预定义函数

    //变量声明提前，函数声明提前:变量声明提前，值停留在本地：函数是整个代码体提前
    //注意：如果是var fn声明的只是变量提前，函数体停留在本地

    console.log(a) //undefined
    var a = 10;
    function fn () { }
    function test () {  //hoist 声明提前
      a = 100;
      console.log(a); //100
      var a; //坑这里是声明，会提前到当前作用域最前面，也就是这个函数的开始处成为一个函数内的局部变量
      console.log(a); //100
      console.log(fn);
    }
    test();
    console.log(a); //10 函数内的局部变量已被释放，而且作用域到不了外面
  </script>
</body>

</html>